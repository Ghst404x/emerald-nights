name: Emerald Nights CI

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  validate-modpack:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: ğŸŒ™ Validate Emerald Nights Configuration
      run: |
        echo "ğŸ” Checking modpack files..."
        
        # Check if essential directories exist
        if [ -d "mods" ]; then
          echo "âœ… Mods directory found"
        else
          echo "âŒ Mods directory missing"
          exit 1
        fi
        
        if [ -d "config" ]; then
          echo "âœ… Config directory found"
        else
          echo "âŒ Config directory missing"
          exit 1
        fi
        
        echo "âœ… Modpack structure validated!"
    
    - name: ğŸ“ Generate Mod Count
      run: |
        if [ -d "mods" ]; then
          MOD_COUNT=$(find mods -name "*.jar" | wc -l)
          echo "ğŸ“¦ Total Mods: $MOD_COUNT"
        fi
    
    - name: ğŸ‰ Build Success
      run: |
        echo "ğŸŒ™ Emerald Nights validation complete!"
        echo "âœ¨ Ready for release!"
